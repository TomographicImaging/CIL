<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Framework &mdash; CIL v21.2.0-31-gdfea50bd documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Read/ write AcquisitionData and ImageData" href="io.html" />
    <link rel="prev" title="Welcome to CIL’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CIL
          </a>
              <div class="version">
                v21.2.0-31-gdfea50bd
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ct-geometry">CT Geometry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parallel-geometry">Parallel geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fan-beam-geometry">Fan-beam geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cone-beam-geometry">Cone-beam geometry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#acquisitongeometry-and-acquisitiondata">AcquisitonGeometry and AcquisitionData</a></li>
<li class="toctree-l2"><a class="reference internal" href="#imagegeometry-and-imagedata">ImageGeometry and ImageData</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#d-parallel-geometry">3D parallel geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Fan-beam geometry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#datacontainer-and-subclasses">DataContainer and subclasses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multi-channel-data">Multi channel data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#block-framework">Block Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataprocessor">DataProcessor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#calculation-of-center-of-rotation">Calculation of Center of Rotation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Read/ write AcquisitionData and ImageData</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimisation.html">Optimisation framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimisation.html#block-framework">Block Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="processors.html">Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CIL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Framework</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/framework.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="framework">
<h1>Framework<a class="headerlink" href="#framework" title="Permalink to this headline">¶</a></h1>
<p>The goal of the Core Imaging Library is to allow the user to simply create iterative reconstruction methods which
go beyond the standard filter back projection technique and which better suit the data characteristics.
The framework comprises:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">cil.framework</span></code> module which allows to simply translate real world CT systems into software.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">cil.optimisation</span></code> module allows the user to quickly create iterative methods to reconstruct acquisition data applying different types of regularisation, which better suit the data characteristics.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">cil.io</span></code> module which provides a number of loaders for real CT machines, e.g. Nikon. It also provides reader and writer to save to NeXuS file format.</p></li>
</ul>
<div class="section" id="ct-geometry">
<h2>CT Geometry<a class="headerlink" href="#ct-geometry" title="Permalink to this headline">¶</a></h2>
<p>Please refer to <a class="reference external" href="https://github.com/vais-ral/CIL-Demos/blob/v19.10.1/Notebooks/00_building_blocks.ipynb">this</a> notebook on the CIL-Demos
repository for full description.</p>
<p>In conventional CT systems, an object is placed between a source emitting X-rays and a detector array
measuring the X-ray transmission images of the incident X-rays. Typically, either the object is placed
on a rotating sample stage and rotates with respect to the source-detector assembly, or the
source-detector gantry rotates with respect to the stationary object.
This arrangement results in so-called circular scanning trajectory. Depending on source and detector
types, there are three conventional data acquisition geometries:</p>
<ul class="simple">
<li><p>parallel geometry (2D or 3D),</p></li>
<li><p>fan-beam geometry, and</p></li>
<li><p>cone-beam geometry.</p></li>
</ul>
<div class="section" id="parallel-geometry">
<h3>Parallel geometry<a class="headerlink" href="#parallel-geometry" title="Permalink to this headline">¶</a></h3>
<p>Parallel beams of X-rays are emitted onto 1D (single pixel row) or 2D detector array. This geometry
is common for synchrotron sources. 2D parrallel geometry is illustrated below.</p>
<div class="align-center figure" id="id8">
<img alt="alternate text" src="_images/parallel.png" />
<p class="caption"><span class="caption-text">2D Parallel geometry</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<div class="align-center figure" id="id9">
<img alt="alternate text" src="_images/parallel3d.png" />
<p class="caption"><span class="caption-text">3D Parallel geometry</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="fan-beam-geometry">
<h3>Fan-beam geometry<a class="headerlink" href="#fan-beam-geometry" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>A single point-like X-ray source emits a cone beam onto 1D detector pixel row. Cone-beam is typically</dt><dd><p>collimated to imaging field of view. Collimation allows greatly reduce amount of scatter radiation
reaching the detector. Fan-beam geometry is used when scattering has significant influence on image
quality or single-slice reconstruction is sufficient.</p>
</dd>
</dl>
<div class="align-center figure" id="id10">
<img alt="alternate text" src="_images/fan.png" />
<p class="caption"><span class="caption-text">Fan beam geometry</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cone-beam-geometry">
<h3>Cone-beam geometry<a class="headerlink" href="#cone-beam-geometry" title="Permalink to this headline">¶</a></h3>
<p>A single point-like X-ray source emits a cone beam onto 2D detector array.
Cone-beam geometry is mainly used in lab-based CT instruments. Depending on where the sample
is placed between the source and the detector one can achieve a different magnification factor <span class="math notranslate nohighlight">\(F\)</span>:</p>
<div class="math notranslate nohighlight">
\[F = \frac{r_1 + r_2}{r_1}\]</div>
<p>where <span class="math notranslate nohighlight">\(r_1\)</span> and <span class="math notranslate nohighlight">\(r_2\)</span> are the distance from the source to the center of the sample and
the distance from the center of the sample to the detector, respectively.</p>
<div class="align-center figure" id="id11">
<img alt="alternate text" src="_images/cone.png" />
<p class="caption"><span class="caption-text">Cone beam geometry</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="acquisitongeometry-and-acquisitiondata">
<h2>AcquisitonGeometry and AcquisitionData<a class="headerlink" href="#acquisitongeometry-and-acquisitiondata" title="Permalink to this headline">¶</a></h2>
<p>In the Framework, we implemented <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> class to hold acquisition parameters and
<code class="code docutils literal notranslate"><span class="pre">ImageGeometry</span></code> to hold geometry of a reconstructed volume. Corresponding data arrays are wrapped
as <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code> classes, respectively.</p>
<p>The simplest (of course from image processing point of view, not from physical implementation) geometry
is the parallel geometry. Geometrical parameters for parallel geometry are depicted below:</p>
<div class="align-center figure" id="id12">
<img alt="alternate text" src="_images/parallel_geometry.png" />
<p class="caption"><span class="caption-text">Parallel geometry</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>In the Framework, we define <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># imports</span>
<span class="kn">from</span> <span class="nn">cil.framework</span> <span class="kn">import</span> <span class="n">AcquisitionGeometry</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># acquisition angles</span>
<span class="n">n_angles</span> <span class="o">=</span> <span class="mi">90</span>
<span class="n">angles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">n_angles</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

<span class="c1"># number of pixels in detector row</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">256</span>

<span class="c1"># pixel size</span>
<span class="n">pixel_size_h</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># # create AcquisitionGeometry</span>
<span class="n">ag_par</span> <span class="o">=</span> <span class="n">AcquisitionGeometry</span><span class="p">(</span><span class="n">geom_type</span><span class="o">=</span><span class="s1">&#39;parallel&#39;</span><span class="p">,</span>
                           <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">,</span>
                           <span class="n">angles</span><span class="o">=</span><span class="n">angles</span><span class="p">,</span>
                           <span class="n">pixel_num_h</span><span class="o">=</span><span class="n">N</span><span class="p">,</span>
                           <span class="n">pixel_size_h</span><span class="o">=</span><span class="n">pixel_size_h</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> contains only metadata, the actual data is wrapped in <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code>
class. <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> class also holds information about arrangement of the actual
acquisition data array. We use attribute <code class="code docutils literal notranslate"><span class="pre">dimension_labels</span></code> to label axis. The expected dimension labels are shown below.
The default order of dimensions for <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> is <code class="code docutils literal notranslate"><span class="pre">[angle,</span> <span class="pre">horizontal]</span></code>, meaning that
the number of elements along 0 and 1 axes in the acquisition data array is expected to be <code class="code docutils literal notranslate"><span class="pre">n_angles</span></code>
and <code class="code docutils literal notranslate"><span class="pre">N</span></code>, respectively.</p>
<div class="align-center figure" id="id13">
<img alt="alternate text" src="_images/parallel_data.png" />
<p class="caption"><span class="caption-text">Parallel data</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p>To have consistent <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code>, we recommend to allocate
<code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> using <code class="code docutils literal notranslate"><span class="pre">allocate</span></code> method of the <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># allocate AcquisitionData</span>
<span class="n">ad_par</span> <span class="o">=</span> <span class="n">ag_par</span><span class="o">.</span><span class="n">allocate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="imagegeometry-and-imagedata">
<h2>ImageGeometry and ImageData<a class="headerlink" href="#imagegeometry-and-imagedata" title="Permalink to this headline">¶</a></h2>
<p>To store reconstruction results, we implemented two classes: <code class="code docutils literal notranslate"><span class="pre">ImageGeometry</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code> classes.
Similar to <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code>, we first define 2D <code class="code docutils literal notranslate"><span class="pre">ImageGeometry</span></code>
and then allocate <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># imports</span>
<span class="kn">from</span> <span class="nn">cil.framework</span> <span class="kn">import</span> <span class="n">ImageData</span><span class="p">,</span> <span class="n">ImageGeometry</span>

<span class="c1"># define 2D ImageGeometry</span>
<span class="c1"># given AcquisitionGeometry ag_par, default parameters for corresponding ImageData</span>
<span class="n">ig_par</span> <span class="o">=</span> <span class="n">ImageGeometry</span><span class="p">(</span><span class="n">voxel_num_y</span><span class="o">=</span><span class="n">ag_par</span><span class="o">.</span><span class="n">pixel_num_h</span><span class="p">,</span>
                     <span class="n">voxel_size_x</span><span class="o">=</span><span class="n">ag_par</span><span class="o">.</span><span class="n">pixel_size_h</span><span class="p">,</span>
                     <span class="n">voxel_num_x</span><span class="o">=</span><span class="n">ag_par</span><span class="o">.</span><span class="n">pixel_num_h</span><span class="p">,</span>
                     <span class="n">voxel_size_y</span><span class="o">=</span><span class="n">ag_par</span><span class="o">.</span><span class="n">pixel_size_h</span><span class="p">)</span>

<span class="c1"># allocate ImageData filled with 0 values with the specific geometry</span>
<span class="n">im_data1</span> <span class="o">=</span> <span class="n">ig_par</span><span class="o">.</span><span class="n">allocate</span><span class="p">()</span>
<span class="c1"># allocate ImageData filled with random values with the specific geometry</span>
<span class="n">im_data2</span> <span class="o">=</span> <span class="n">ig_par</span><span class="o">.</span><span class="n">allocate</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Fan-beam, cone-beam and 3D (multi-slice) parallel geometry can be set-up similar to 2D parallel geometry.</p>
<div class="section" id="d-parallel-geometry">
<h3>3D parallel geometry<a class="headerlink" href="#d-parallel-geometry" title="Permalink to this headline">¶</a></h3>
<div class="align-center figure" id="id14">
<img alt="alternate text" src="_images/parallel3d_geometry.png" />
<p class="caption"><span class="caption-text">Geometrical parameters and dimension labels for 3D parallel beam geometry</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p>3D parallel beam <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> and default <code class="code docutils literal notranslate"><span class="pre">ImageGeometry</span></code> parameters can be set up
as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set-up 3D parallel beam AcquisitionGeometry</span>
<span class="c1"># physical pixel size</span>
<span class="n">pixel_size_h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">ag_par_3d</span> <span class="o">=</span> <span class="n">AcquisitionGeometry</span><span class="p">(</span><span class="n">geom_type</span><span class="o">=</span><span class="s1">&#39;parallel&#39;</span><span class="p">,</span>
                              <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;3D&#39;</span><span class="p">,</span>
                              <span class="n">angles</span><span class="o">=</span><span class="n">angles</span><span class="p">,</span>
                              <span class="n">pixel_num_h</span><span class="o">=</span><span class="n">N</span><span class="p">,</span>
                              <span class="n">pixel_size_h</span><span class="o">=</span><span class="n">pixel_size_h</span><span class="p">,</span>
                              <span class="n">pixel_num_v</span><span class="o">=</span><span class="n">N</span><span class="p">,</span>
                              <span class="n">pixel_size_v</span><span class="o">=</span><span class="n">pixel_size_h</span><span class="p">)</span>
<span class="c1"># set-up 3D parallel beam ImageGeometry</span>
<span class="n">ig_par_3d</span> <span class="o">=</span> <span class="n">ImageGeometry</span><span class="p">(</span><span class="n">voxel_num_x</span><span class="o">=</span><span class="n">ag_par_3d</span><span class="o">.</span><span class="n">pixel_num_h</span><span class="p">,</span>
                        <span class="n">voxel_size_x</span><span class="o">=</span><span class="n">ag_par_3d</span><span class="o">.</span><span class="n">pixel_size_h</span><span class="p">,</span>
                        <span class="n">voxel_num_y</span><span class="o">=</span><span class="n">ag_par_3d</span><span class="o">.</span><span class="n">pixel_num_h</span><span class="p">,</span>
                        <span class="n">voxel_size_y</span><span class="o">=</span><span class="n">ag_par_3d</span><span class="o">.</span><span class="n">pixel_size_h</span><span class="p">,</span>
                        <span class="n">voxel_num_z</span><span class="o">=</span><span class="n">ag_par_3d</span><span class="o">.</span><span class="n">pixel_num_v</span><span class="p">,</span>
                        <span class="n">voxel_size_z</span><span class="o">=</span><span class="n">ag_par_3d</span><span class="o">.</span><span class="n">pixel_size_v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Fan-beam geometry<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="align-center figure" id="id15">
<img alt="alternate text" src="_images/fan_geometry.png" />
<p class="caption"><span class="caption-text">Geometrical parameters and dimension labels for fan-beam geometry.</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<div class="align-center figure" id="id16">
<img alt="alternate text" src="_images/fan_data.png" />
<p class="caption"><span class="caption-text">Geometrical parameters and dimension labels for fan-beam data.</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p>Fan-beam <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> and
default <code class="code docutils literal notranslate"><span class="pre">ImageGeometry</span></code> parameters can be set up as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set-up fan-beam AcquisitionGeometry</span>
<span class="c1"># distance from source to center of rotation</span>
<span class="n">dist_source_center</span> <span class="o">=</span> <span class="mf">200.0</span>
<span class="c1"># distance from center of rotation to detector</span>
<span class="n">dist_center_detector</span> <span class="o">=</span> <span class="mf">300.0</span>
<span class="c1"># physical pixel size</span>
<span class="n">pixel_size_h</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">ag_fan</span> <span class="o">=</span> <span class="n">AcquisitionGeometry</span><span class="p">(</span><span class="n">geom_type</span><span class="o">=</span><span class="s1">&#39;cone&#39;</span><span class="p">,</span>
                           <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">,</span>
                           <span class="n">angles</span><span class="o">=</span><span class="n">angles</span><span class="p">,</span>
                           <span class="n">pixel_num_h</span><span class="o">=</span><span class="n">N</span><span class="p">,</span>
                           <span class="n">pixel_size_h</span><span class="o">=</span><span class="n">pixel_size_h</span><span class="p">,</span>
                           <span class="n">dist_source_center</span><span class="o">=</span><span class="n">dist_source_center</span><span class="p">,</span>
                           <span class="n">dist_center_detector</span><span class="o">=</span><span class="n">dist_center_detector</span><span class="p">)</span>
<span class="c1"># calculate geometrical magnification</span>
<span class="n">mag</span> <span class="o">=</span> <span class="p">(</span><span class="n">ag_fan</span><span class="o">.</span><span class="n">dist_source_center</span> <span class="o">+</span> <span class="n">ag_fan</span><span class="o">.</span><span class="n">dist_center_detector</span><span class="p">)</span> <span class="o">/</span> <span class="n">ag_fan</span><span class="o">.</span><span class="n">dist_source_center</span>

<span class="n">ig_fan</span> <span class="o">=</span> <span class="n">ImageGeometry</span><span class="p">(</span><span class="n">voxel_num_x</span><span class="o">=</span><span class="n">ag_fan</span><span class="o">.</span><span class="n">pixel_num_h</span><span class="p">,</span>
                     <span class="n">voxel_size_x</span><span class="o">=</span><span class="n">ag_fan</span><span class="o">.</span><span class="n">pixel_size_h</span> <span class="o">/</span> <span class="n">mag</span><span class="p">,</span>
                     <span class="n">voxel_num_y</span><span class="o">=</span><span class="n">ag_fan</span><span class="o">.</span><span class="n">pixel_num_h</span><span class="p">,</span>
                     <span class="n">voxel_size_y</span><span class="o">=</span><span class="n">ag_fan</span><span class="o">.</span><span class="n">pixel_size_h</span> <span class="o">/</span> <span class="n">mag</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="cil.framework.ImageGeometry">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">ImageGeometry</code><span class="sig-paren">(</span><em class="sig-param">voxel_num_x=0</em>, <em class="sig-param">voxel_num_y=0</em>, <em class="sig-param">voxel_num_z=0</em>, <em class="sig-param">voxel_size_x=1</em>, <em class="sig-param">voxel_size_y=1</em>, <em class="sig-param">voxel_size_z=1</em>, <em class="sig-param">center_x=0</em>, <em class="sig-param">center_y=0</em>, <em class="sig-param">center_z=0</em>, <em class="sig-param">channels=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageGeometry" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cil.framework.ImageGeometry.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">value=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageGeometry.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageGeometry.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>allocates an ImageData according to the size expressed in the instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>number</em><em> or </em><em>string</em><em>, </em><em>default None allocates empty memory block</em><em>, </em><em>default 0</em>) – accepts numbers to allocate an uniform array, or a string as ‘random’ or ‘random_int’ to create a random array or None.</p></li>
<li><p><strong>dtype</strong> (<em>numpy type</em><em>, </em><em>default numpy.float32</em>) – numerical type to allocate</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.ImageGeometry.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageGeometry.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageGeometry.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a copy of the ImageGeometry</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.ImageGeometry.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageGeometry.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageGeometry.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of clone</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.ImageGeometry.get_slice">
<code class="sig-name descname">get_slice</code><span class="sig-paren">(</span><em class="sig-param">channel=None</em>, <em class="sig-param">vertical=None</em>, <em class="sig-param">horizontal_x=None</em>, <em class="sig-param">horizontal_y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageGeometry.get_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageGeometry.get_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new ImageGeometry of a single slice of in the requested direction.</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.ImageGeometry.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param">dimensions=None</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageGeometry.subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageGeometry.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new sliced and/or reshaped ImageGeometry</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.framework.AcquisitionGeometry">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">AcquisitionGeometry</code><span class="sig-paren">(</span><em class="sig-param">geom_type</em>, <em class="sig-param">dimension=None</em>, <em class="sig-param">angles=None</em>, <em class="sig-param">pixel_num_h=1</em>, <em class="sig-param">pixel_size_h=1</em>, <em class="sig-param">pixel_num_v=1</em>, <em class="sig-param">pixel_size_v=1</em>, <em class="sig-param">dist_source_center=None</em>, <em class="sig-param">dist_center_detector=None</em>, <em class="sig-param">channels=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>This class holds the AcquisitionGeometry of the system.</p>
<p>Please initialise using factory:
AcquisitionGeometry.create_Parallel2D
AcquisitionGeometry.create_Cone3D
AcquisitionGeometry.create_Parallel2D
AcquisitionGeometry.create_Cone3D</p>
<p>These initialisation parameters will be deprecated in a future release.    
:param geom_type: A description of the system type ‘cone’ or ‘parallel’
:type geom_type: string
:param pixel_num_h: Number of pixels in the horizontal direction
:type pixel_num_h: int, optional
:param pixel_num_v: Number of pixels in the vertical direction
:type pixel_num_v: int, optional    
:param pixel_size_h: Size of pixels in the horizontal direction
:type pixel_size_h: float, optional    
:param pixel_size_v: Size of pixels in the vertical direction
:type pixel_size_v: float, optional       
:param chanels: Number of channels
:type chanels: int, optional       
:param dist_source_center: Distance from the source to the origin
:type dist_source_center: float, optional
:param dist_center_detector: Distance from the origin to the centre of the detector
:type dist_center_detector: float, optional</p>
<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">value=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>allocates an AcquisitionData according to the size expressed in the instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>number</em><em> or </em><em>string</em><em>, </em><em>default None allocates empty memory block</em>) – accepts numbers to allocate an uniform array, or a string as ‘random’ or ‘random_int’ to create a random array or None.</p></li>
<li><p><strong>dtype</strong> (<em>numpy type</em><em>, </em><em>default numpy.float32</em>) – numerical type to allocate</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a copy of the AcquisitionGeometry</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of clone</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.create_Cone2D">
<em class="property">static </em><code class="sig-name descname">create_Cone2D</code><span class="sig-paren">(</span><em class="sig-param">source_position, detector_position, detector_direction_x=[1, 0], rotation_axis_position=[0, 0]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.create_Cone2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.create_Cone2D" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates the AcquisitionGeometry for a cone beam 2D tomographic system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 2D vector describing the position of the source (x,y)</p></li>
<li><p><strong>detector_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 2D vector describing the position of the centre of the detector (x,y)</p></li>
<li><p><strong>detector_direction_x</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 2D vector describing the direction of the detector_x (x,y)</p></li>
<li><p><strong>rotation_axis_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 2D vector describing the position of the axis of rotation (x,y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.create_Cone3D">
<em class="property">static </em><code class="sig-name descname">create_Cone3D</code><span class="sig-paren">(</span><em class="sig-param">source_position, detector_position, detector_direction_x=[1, 0, 0], detector_direction_y=[0, 0, 1], rotation_axis_position=[0, 0, 0], rotation_axis_direction=[0, 0, 1]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.create_Cone3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.create_Cone3D" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates the AcquisitionGeometry for a cone beam 3D tomographic system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the position of the source (x,y,z)</p></li>
<li><p><strong>detector_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the position of the centre of the detector (x,y,z)</p></li>
<li><p><strong>detector_direction_x</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 3D vector describing the direction of the detector_x (x,y,z)</p></li>
<li><p><strong>detector_direction_y</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 3D vector describing the direction of the detector_y (x,y,z)</p></li>
<li><p><strong>rotation_axis_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the position of the axis of rotation (x,y,z)</p></li>
<li><p><strong>rotation_axis_direction</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the direction of the axis of rotation (x,y,z)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.create_Parallel2D">
<em class="property">static </em><code class="sig-name descname">create_Parallel2D</code><span class="sig-paren">(</span><em class="sig-param">ray_direction=[0, 1], detector_position=[0, 0], detector_direction_x=[1, 0], rotation_axis_position=[0, 0]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.create_Parallel2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.create_Parallel2D" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates the AcquisitionGeometry for a parallel beam 2D tomographic system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray_direction</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 2D vector describing the x-ray direction (x,y)</p></li>
<li><p><strong>detector_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 2D vector describing the position of the centre of the detector (x,y)</p></li>
<li><p><strong>detector_direction_x</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 2D vector describing the direction of the detector_x (x,y)</p></li>
<li><p><strong>rotation_axis_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 2D vector describing the position of the axis of rotation (x,y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.create_Parallel3D">
<em class="property">static </em><code class="sig-name descname">create_Parallel3D</code><span class="sig-paren">(</span><em class="sig-param">ray_direction=[0, 1, 0], detector_position=[0, 0, 0], detector_direction_x=[1, 0, 0], detector_direction_y=[0, 0, 1], rotation_axis_position=[0, 0, 0], rotation_axis_direction=[0, 0, 1]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.create_Parallel3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.create_Parallel3D" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates the AcquisitionGeometry for a parallel beam 3D tomographic system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray_direction</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the x-ray direction (x,y,z)</p></li>
<li><p><strong>detector_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the position of the centre of the detector (x,y,z)</p></li>
<li><p><strong>detector_direction_x</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 3D vector describing the direction of the detector_x (x,y,z)</p></li>
<li><p><strong>detector_direction_y</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em>) – A 3D vector describing the direction of the detector_y (x,y,z)</p></li>
<li><p><strong>rotation_axis_position</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the position of the axis of rotation (x,y,z)</p></li>
<li><p><strong>rotation_axis_direction</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – A 3D vector describing the direction of the axis of rotation (x,y,z)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.get_ImageGeometry">
<code class="sig-name descname">get_ImageGeometry</code><span class="sig-paren">(</span><em class="sig-param">resolution=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.get_ImageGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.get_ImageGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a default configured ImageGeometry object based on the AcquisitionGeomerty</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.get_centre_slice">
<code class="sig-name descname">get_centre_slice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.get_centre_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.get_centre_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 2D AcquisitionGeometry that corresponds to the centre slice of the input</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.get_slice">
<code class="sig-name descname">get_slice</code><span class="sig-paren">(</span><em class="sig-param">channel=None</em>, <em class="sig-param">angle=None</em>, <em class="sig-param">vertical=None</em>, <em class="sig-param">horizontal=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.get_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.get_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new AcquisitionGeometry of a single slice of in the requested direction. Will only return reconstructable geometries.</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.set_angles">
<code class="sig-name descname">set_angles</code><span class="sig-paren">(</span><em class="sig-param">angles</em>, <em class="sig-param">initial_angle=0</em>, <em class="sig-param">angle_unit='degree'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.set_angles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.set_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>This method configures the angular information of an AcquisitionGeometry object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> (<em>list</em><em>, </em><em>ndarray</em>) – The angular positions of the acquisition data</p></li>
<li><p><strong>initial_angle</strong> (<em>float</em><em>, </em><em>optional</em>) – The angular offset of the object from the reference frame</p></li>
<li><p><strong>angle_unit</strong> (<em>string</em>) – The units of the stored angles ‘degree’ or ‘radian’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.set_channels">
<code class="sig-name descname">set_channels</code><span class="sig-paren">(</span><em class="sig-param">num_channels=1</em>, <em class="sig-param">channel_labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.set_channels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.set_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>This method configures the channel information of an AcquisitionGeometry object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_channels</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of channels of data</p></li>
<li><p><strong>channel_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – A list of channel labels</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.set_labels">
<code class="sig-name descname">set_labels</code><span class="sig-paren">(</span><em class="sig-param">labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.set_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.set_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>This method configures the dimension labels of an AcquisitionGeometry object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>labels</strong> (<em>list</em><em>, </em><em>optional</em>) – The order of the dimensions describing the data.Expects a list containing at least one of the unique labels: ‘channel’ ‘angle’ ‘vertical’ ‘horizontal’
default = [‘channel’,’angle’,’vertical’,’horizontal’]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.set_panel">
<code class="sig-name descname">set_panel</code><span class="sig-paren">(</span><em class="sig-param">num_pixels</em>, <em class="sig-param">pixel_size=(1</em>, <em class="sig-param">1)</em>, <em class="sig-param">origin='bottom-left'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.set_panel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.set_panel" title="Permalink to this definition">¶</a></dt>
<dd><p>This method configures the panel information of an AcquisitionGeometry object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_pixels</strong> (<em>int</em><em>, </em><em>list</em><em>, </em><em>tuple</em>) – num_pixels_h or (num_pixels_h, num_pixels_v) containing the number of pixels of the panel</p></li>
<li><p><strong>pixel_size</strong> (<em>int</em><em>, </em><em>list</em><em>, </em><em>tuple</em><em>, </em><em>optional</em>) – pixel_size_h or (pixel_size_h, pixel_size_v) containing the size of the pixels of the panel</p></li>
<li><p><strong>origin</strong> (<em>string</em><em>, </em><em>default 'bottom-left'</em>) – the position of pixel 0 (the data origin) of the panel ‘top-left’, ‘top-right’, ‘bottom-left’, ‘bottom-right’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a configured AcquisitionGeometry object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionGeometry" title="cil.framework.AcquisitionGeometry">AcquisitionGeometry</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionGeometry.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param">dimensions=None</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionGeometry.subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionGeometry.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new sliced and/or reshaped AcquisitionGeometry</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.framework.VectorGeometry">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">VectorGeometry</code><span class="sig-paren">(</span><em class="sig-param">length</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#VectorGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.VectorGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Geometry describing VectorData to contain 1D array</p>
<dl class="method">
<dt id="cil.framework.VectorGeometry.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">value=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#VectorGeometry.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.VectorGeometry.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>allocates an VectorData according to the size expressed in the instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>number</em><em> or </em><em>string</em><em>, </em><em>default None allocates empty memory block</em>) – accepts numbers to allocate an uniform array, or a string as ‘random’ or ‘random_int’ to create a random array or None.</p></li>
<li><p><strong>dtype</strong> (<em>numpy type</em><em>, </em><em>default numpy.float32</em>) – numerical type to allocate</p></li>
<li><p><strong>seed</strong> (<em>int</em><em>, </em><em>default None</em>) – seed for the random number generator</p></li>
<li><p><strong>max_value</strong> (<em>int</em><em>, </em><em>default 100</em>) – max value of the random int array</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.VectorGeometry.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#VectorGeometry.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.VectorGeometry.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a copy of VectorGeometry</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.VectorGeometry.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#VectorGeometry.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.VectorGeometry.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of clone</p>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">DataContainer</span></code> and subclasses <code class="docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="docutils literal notranslate"><span class="pre">ImageData</span></code> are
meant to contain data and meta-data in <code class="docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code> and
<code class="docutils literal notranslate"><span class="pre">ImageGeometry</span></code> respectively.</p>
</div>
</div>
<div class="section" id="datacontainer-and-subclasses">
<h2>DataContainer and subclasses<a class="headerlink" href="#datacontainer-and-subclasses" title="Permalink to this headline">¶</a></h2>
<p><code class="code docutils literal notranslate"><span class="pre">AcquisiionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code> inherit from the same parent <code class="code docutils literal notranslate"><span class="pre">DataContainer</span></code> class,
therefore they largely behave the same way.</p>
<p>There are algebraic operations defined for both <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code>.
Following operations are defined:</p>
<ul class="simple">
<li><p>binary operations (between two DataContainers or scalar and DataContainer)</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">+</span></code> addition</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">-</span></code> subtraction</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">/</span></code> division</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">*</span></code> multiplication</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">**</span></code> power</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">maximum</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">minimum</span></code></p></li>
</ul>
</li>
<li><p>in-place operations</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">+=</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">-=</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">*=</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">**=</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">/=</span></code></p></li>
</ul>
</li>
<li><p>unary operations</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">abs</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sqrt</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sign</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">conjugate</span></code></p></li>
</ul>
</li>
<li><p>reductions</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">sum</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">norm</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">dot</span></code> product</p></li>
</ul>
</li>
</ul>
<p><code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code> provide a simple method to transpose the data and to
produce a subset of itself based on the axis we would like to have. This method is based on the label of
the axes of the data rather than the way it is stored. We think that the user should describe what she
wants and not bother with knowing the actual layout of the data in the memory.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># transpose data using subset method</span>
<span class="n">data_transposed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">subset</span><span class="p">([</span><span class="s1">&#39;horizontal_y&#39;</span><span class="p">,</span> <span class="s1">&#39;horizontal_x&#39;</span><span class="p">])</span>
<span class="c1"># extract single row</span>
<span class="n">data_profile</span> <span class="o">=</span> <span class="n">data_subset</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="n">horizontal_y</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="cil.framework.DataContainer">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">DataContainer</code><span class="sig-paren">(</span><em class="sig-param">array</em>, <em class="sig-param">deep_copy=True</em>, <em class="sig-param">dimension_labels=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic class to hold data</p>
<p>Data is currently held in a numpy arrays</p>
<dl class="method">
<dt id="cil.framework.DataContainer.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean array of DataContainer equal to DataContainer/float</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__ge__">
<code class="sig-name descname">__ge__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__ge__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__ge__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean array of DataContainer greater or equal than DataContainer/float</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__gt__">
<code class="sig-name descname">__gt__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__gt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__gt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean array of DataContainer greater than DataContainer/float</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">array</em>, <em class="sig-param">deep_copy=True</em>, <em class="sig-param">dimension_labels=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds the data</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__le__">
<code class="sig-name descname">__le__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__le__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean array of DataContainer less or equal than DataContainer/float</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__lt__">
<code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__lt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean array of DataContainer less than DataContainer/float</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__ne__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns boolean array of DataContainer negative to DataContainer/float</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__neg__">
<code class="sig-name descname">__neg__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__neg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__neg__" title="Permalink to this definition">¶</a></dt>
<dd><p>negation operator</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><em class="sig-param">representation=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="attribute">
<dt id="cil.framework.DataContainer.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.framework.DataContainer.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.as_array">
<code class="sig-name descname">as_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.as_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pointer to the array.</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.axpby">
<code class="sig-name descname">axpby</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">y</em>, <em class="sig-param">out</em>, <em class="sig-param">dtype=&lt;class 'numpy.float32'&gt;</em>, <em class="sig-param">num_threads=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.axpby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.axpby" title="Permalink to this definition">¶</a></dt>
<dd><p>performs axpby with cilacc C library, can be done in-place.</p>
<p>Does the operation .. math:: a*x+b*y and stores the result in out, where x is self</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – scalar</p></li>
<li><p><strong>b</strong> (<em>float</em>) – scalar</p></li>
<li><p><strong>y</strong> – DataContainer</p></li>
<li><p><strong>out</strong> – DataContainer instance to store the result</p></li>
<li><p><strong>dtype</strong> (<em>numpy type</em><em>, </em><em>optional</em><em>, </em><em>default numpy.float32</em>) – data type of the DataContainers</p></li>
<li><p><strong>num_threads</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default 1/2 CPU of the system</em>) – number of threads to run on</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a copy of DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of clone</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.dot">
<code class="sig-name descname">dot</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>return the inner product of 2 DataContainers viewed as vectors</p>
<p>applies to real and complex data. In such case the dot method returns</p>
<p>a.dot(b.conjugate())</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.dtype">
<em class="property">property </em><code class="sig-name descname">dtype</code><a class="headerlink" href="#cil.framework.DataContainer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dtype of the data array. 
If geometry exists, the dtype of the geometry = dtype of the array</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.exp">
<code class="sig-name descname">exp</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.exp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies exp pixel-wise to the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.fill">
<code class="sig-name descname">fill</code><span class="sig-paren">(</span><em class="sig-param">array</em>, <em class="sig-param">**dimension</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.fill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>fills the internal data array with the DataContainer, numpy array or number provided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<a class="reference internal" href="#cil.framework.DataContainer" title="cil.framework.DataContainer"><em>DataContainer</em></a><em> or </em><em>subclasses</em><em>, </em><em>numpy array</em><em> or </em><em>number</em>) – number, numpy array or DataContainer to copy into the DataContainer</p></li>
<li><p><strong>dimension</strong> – dictionary, optional</p></li>
</ul>
</dd>
</dl>
<p>if the passed numpy array points to the same array that is contained in the DataContainer,
it just returns</p>
<p>In case a DataContainer or subclass is passed, there will be a check of the geometry, 
if present, and the array will be resorted if the data is not in the appropriate order.</p>
<p>User may pass a named parameter to specify in which axis the fill should happen:</p>
<p>dc.fill(some_data, vertical=1, horizontal_x=32)
will copy the data in some_data into the data container.</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.get_data_axes_order">
<code class="sig-name descname">get_data_axes_order</code><span class="sig-paren">(</span><em class="sig-param">new_order=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.get_data_axes_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.get_data_axes_order" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the axes label of self as a list</p>
<p>if new_order is None returns the labels of the axes as a sorted-by-key list
if new_order is a list of length number_of_dimensions, returns a list
with the indices of the axes in new_order with respect to those in 
self.dimension_labels: i.e.</p>
<blockquote>
<div><p>self.dimension_labels = {0:’horizontal’,1:’vertical’}
new_order = [‘vertical’,’horizontal’]
returns [1,0]</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.get_slice">
<code class="sig-name descname">get_slice</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.get_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.get_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new DataContainer containing a single slice of in the requested direction.         Pass keyword arguments &lt;dimension label&gt;=index</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies log pixel-wise to the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the max pixel value in the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.mean">
<code class="sig-name descname">mean</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the mean pixel value of the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.min">
<code class="sig-name descname">min</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the min pixel value in the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.norm">
<code class="sig-name descname">norm</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>return the euclidean norm of the DataContainer viewed as a vector</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.number_of_dimensions">
<em class="property">property </em><code class="sig-name descname">number_of_dimensions</code><a class="headerlink" href="#cil.framework.DataContainer.number_of_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shape of the  of the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.reorder">
<code class="sig-name descname">reorder</code><span class="sig-paren">(</span><em class="sig-param">order=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.reorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>reorders the data in memory as requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>order</strong> (<em>list</em><em>, </em><em>sting</em>) – ordered list of labels from self.dimension_labels, or order for engine ‘astra’ or ‘tigre’</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#cil.framework.DataContainer.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shape of the  of the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#cil.framework.DataContainer.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of elements of the DataContainer</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.squared_norm">
<code class="sig-name descname">squared_norm</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.squared_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.squared_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>return the squared euclidean norm of the DataContainer viewed as a vector</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.DataContainer.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param">dimensions=None</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataContainer.subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataContainer.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DataContainer containing a subset of self according to the 
labels in dimensions</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.framework.ImageData">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">ImageData</code><span class="sig-paren">(</span><em class="sig-param">array=None</em>, <em class="sig-param">deep_copy=False</em>, <em class="sig-param">geometry=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageData" title="Permalink to this definition">¶</a></dt>
<dd><p>DataContainer for holding 2D or 3D DataContainer</p>
<dl class="method">
<dt id="cil.framework.ImageData.get_slice">
<code class="sig-name descname">get_slice</code><span class="sig-paren">(</span><em class="sig-param">channel=None</em>, <em class="sig-param">vertical=None</em>, <em class="sig-param">horizontal_x=None</em>, <em class="sig-param">horizontal_y=None</em>, <em class="sig-param">force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageData.get_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageData.get_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new ImageData of a single slice of in the requested direction.</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.ImageData.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param">dimensions=None</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#ImageData.subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.ImageData.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a subset of ImageData and regenerates the geometry</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.framework.AcquisitionData">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">AcquisitionData</code><span class="sig-paren">(</span><em class="sig-param">array=None</em>, <em class="sig-param">deep_copy=True</em>, <em class="sig-param">geometry=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionData" title="Permalink to this definition">¶</a></dt>
<dd><p>DataContainer for holding 2D or 3D sinogram</p>
<dl class="method">
<dt id="cil.framework.AcquisitionData.get_slice">
<code class="sig-name descname">get_slice</code><span class="sig-paren">(</span><em class="sig-param">channel=None</em>, <em class="sig-param">angle=None</em>, <em class="sig-param">vertical=None</em>, <em class="sig-param">horizontal=None</em>, <em class="sig-param">force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionData.get_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionData.get_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new dataset of a single slice of in the requested direction.</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.AcquisitionData.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param">dimensions=None</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#AcquisitionData.subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.AcquisitionData.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a subset of the AcquisitionData and regenerates the geometry</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.framework.VectorData">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">VectorData</code><span class="sig-paren">(</span><em class="sig-param">array=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#VectorData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.VectorData" title="Permalink to this definition">¶</a></dt>
<dd><p>DataContainer to contain 1D array</p>
</dd></dl>

<div class="section" id="multi-channel-data">
<h3>Multi channel data<a class="headerlink" href="#multi-channel-data" title="Permalink to this headline">¶</a></h3>
<p>Both <code class="code docutils literal notranslate"><span class="pre">AcquisitionGeometry</span></code>, <code class="code docutils literal notranslate"><span class="pre">AcquisitionData</span></code> and <code class="code docutils literal notranslate"><span class="pre">ImageGeometry</span></code>, <code class="code docutils literal notranslate"><span class="pre">ImageData</span></code>
can be defined for multi-channel (spectral) CT data using <code class="code docutils literal notranslate"><span class="pre">channels</span></code> attribute.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># multi-channel fan-beam geometry</span>
<span class="n">ag_fan_mc</span> <span class="o">=</span> <span class="n">AcquisitionGeometry</span><span class="p">(</span><span class="n">geom_type</span><span class="o">=</span><span class="s1">&#39;cone&#39;</span><span class="p">,</span>
                               <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">,</span>
                               <span class="n">angles</span><span class="o">=</span><span class="n">angles</span><span class="p">,</span>
                               <span class="n">pixel_num_h</span><span class="o">=</span><span class="n">N</span><span class="p">,</span>
                               <span class="n">pixel_size_h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                               <span class="n">dist_source_center</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                               <span class="n">dist_center_detector</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
                               <span class="n">channels</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># define multi-channel 2D ImageGeometry</span>
<span class="n">ig3</span> <span class="o">=</span> <span class="n">ImageGeometry</span><span class="p">(</span><span class="n">voxel_num_y</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                    <span class="n">voxel_num_x</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                    <span class="n">channels</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="block-framework">
<h2>Block Framework<a class="headerlink" href="#block-framework" title="Permalink to this headline">¶</a></h2>
<p>The block framework allows writing more advanced <a class="reference external" href="optimisation.html">optimisation problems</a>. Consider the typical
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Tikhonov regularisation</a>:</p>
<div class="math notranslate nohighlight">
\[\underset{u}{\mathrm{argmin}}\begin{Vmatrix}A u - b \end{Vmatrix}^2_2 + \alpha^2\|Lu\|^2_2\]</div>
<p>where,</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(A\)</span> is the projection operator</p></li>
<li><p><span class="math notranslate nohighlight">\(b\)</span> is the acquired data</p></li>
<li><p><span class="math notranslate nohighlight">\(u\)</span> is the unknown image to be solved for</p></li>
<li><p><span class="math notranslate nohighlight">\(\alpha\)</span> is the regularisation parameter</p></li>
<li><p><span class="math notranslate nohighlight">\(L\)</span> is a regularisation operator</p></li>
</ul>
<p>The first term measures the fidelity of the solution to the data. The second term meausures the
fidelity to the prior knowledge we have imposed on the system, operator <span class="math notranslate nohighlight">\(L\)</span>.</p>
<p>This can be re-written equivalently in the block matrix form:</p>
<div class="math notranslate nohighlight">
\[\underset{u}{\mathrm{argmin}}\begin{Vmatrix}\binom{A}{\alpha L} u - \binom{b}{0}\end{Vmatrix}^2_2\]</div>
<p>With the definitions:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\tilde{A} = \binom{A}{\alpha L}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\tilde{b} = \binom{b}{0}\)</span></p></li>
</ul>
<p>this can now be recognised as a least squares problem which can be solved by any algorithm in the <code class="code docutils literal notranslate"><span class="pre">cil.optimisation</span></code>
which can solve least squares problem, e.g. CGLS.</p>
<div class="math notranslate nohighlight">
\[\underset{u}{\mathrm{argmin}}\begin{Vmatrix}\tilde{A} u - \tilde{b}\end{Vmatrix}^2_2\]</div>
<p>To be able to express our optimisation problems in the matrix form above, we developed the so-called,
Block Framework comprising 4 main actors: <code class="code docutils literal notranslate"><span class="pre">BlockGeometry</span></code>, <code class="code docutils literal notranslate"><span class="pre">BlockDataContainer</span></code>,
<code class="code docutils literal notranslate"><span class="pre">BlockFunction</span></code> and <code class="code docutils literal notranslate"><span class="pre">BlockOperator</span></code>.</p>
<p>A <code class="code docutils literal notranslate"><span class="pre">BlockDataContainer</span></code> can be instantiated from a number of <code class="code docutils literal notranslate"><span class="pre">DataContainer</span></code> and subclasses
represents a column vector of :code:<a href="#id2"><span class="problematic" id="id3">`</span></a>DataContainer`s.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bdc</span> <span class="o">=</span> <span class="n">BlockDataContainer</span><span class="p">(</span><span class="n">DataContainer0</span><span class="p">,</span> <span class="n">DataContainer1</span><span class="p">)</span>
</pre></div>
</div>
<p>. These
classes are required for it to work. They provide a base class that will
behave as normal <code class="docutils literal notranslate"><span class="pre">DataContainer</span></code>.</p>
<dl class="class">
<dt id="cil.framework.BlockDataContainer">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">BlockDataContainer</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to hold DataContainers as column vector</p>
<p>Provides basic algebra between BlockDataContainer’s, DataContainer’s and
subclasses and Numbers</p>
<ol class="arabic simple">
<li><p>algebra between <a href="#id4"><span class="problematic" id="id5">`</span></a>BlockDataContainer`s will be element-wise, only if 
the shape of the 2 <a href="#id6"><span class="problematic" id="id7">`</span></a>BlockDataContainer`s is the same, otherwise it 
will fail</p></li>
<li><p>algebra between <cite>BlockDataContainer`s and `list</cite> or <cite>numpy array</cite> will 
work as long as the number of <cite>rows</cite> and element of the arrays match,
indipendently on the fact that the <cite>BlockDataContainer</cite> could be nested</p></li>
<li><p>algebra between <cite>BlockDataContainer</cite> and one <cite>DataContainer</cite> is possible.
It will require that all the <cite>DataContainers</cite> in the block to be
compatible with the <cite>DataContainer</cite> we want to algebra with. Should we 
require that the <cite>DataContainer</cite> is the same type? Like <cite>ImageData</cite> or <cite>AcquisitionData</cite>?</p></li>
<li><p>algebra between <cite>BlockDataContainer</cite> and a <cite>Number</cite> is possible and it
will be done with each element of the <cite>BlockDataContainer</cite> even if nested</p></li>
</ol>
<p>A = [ [B,C] , D] 
A * 3 = [ 3 * [B,C] , 3* D] = [ [ 3*B, 3*C]  , 3*D ]</p>
<dl class="method">
<dt id="cil.framework.BlockDataContainer.__iadd__">
<code class="sig-name descname">__iadd__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__iadd__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__iadd__" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline addition</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__idiv__">
<code class="sig-name descname">__idiv__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__idiv__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__idiv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline division</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__imul__">
<code class="sig-name descname">__imul__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__imul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__imul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline multiplication</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__isub__">
<code class="sig-name descname">__isub__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__isub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__isub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline subtraction</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__iter__">
<code class="sig-name descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>BlockDataContainer is Iterable</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__itruediv__">
<code class="sig-name descname">__itruediv__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__itruediv__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__itruediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Inline truedivision</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__neg__">
<code class="sig-name descname">__neg__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__neg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__neg__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return - self</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__radd__">
<code class="sig-name descname">__radd__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__radd__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__radd__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse addition</p>
<p>to make sure that this method is called rather than the __mul__ of a numpy array
the class constant __array_priority__ must be set &gt; 0
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__">https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__</a></p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__rdiv__">
<code class="sig-name descname">__rdiv__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__rdiv__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__rdiv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse division</p>
<p>to make sure that this method is called rather than the __mul__ of a numpy array
the class constant __array_priority__ must be set &gt; 0
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__">https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__</a></p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__rmul__">
<code class="sig-name descname">__rmul__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__rmul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__rmul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse multiplication</p>
<p>to make sure that this method is called rather than the __mul__ of a numpy array
the class constant __array_priority__ must be set &gt; 0
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__">https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__</a></p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__rpow__">
<code class="sig-name descname">__rpow__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__rpow__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__rpow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse power</p>
<p>to make sure that this method is called rather than the __mul__ of a numpy array
the class constant __array_priority__ must be set &gt; 0
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__">https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__</a></p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__rsub__">
<code class="sig-name descname">__rsub__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__rsub__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__rsub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse subtraction</p>
<p>to make sure that this method is called rather than the __mul__ of a numpy array
the class constant __array_priority__ must be set &gt; 0
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__">https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__</a></p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.__rtruediv__">
<code class="sig-name descname">__rtruediv__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.__rtruediv__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.__rtruediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse truedivision</p>
<p>to make sure that this method is called rather than the __mul__ of a numpy array
the class constant __array_priority__ must be set &gt; 0
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__">https://docs.scipy.org/doc/numpy-1.15.1/reference/arrays.classes.html#numpy.class.__array_priority__</a></p>
</dd></dl>

<dl class="attribute">
<dt id="cil.framework.BlockDataContainer.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.framework.BlockDataContainer.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: add method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.axpby">
<code class="sig-name descname">axpby</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">y</em>, <em class="sig-param">out</em>, <em class="sig-param">dtype=&lt;class 'numpy.float32'&gt;</em>, <em class="sig-param">num_threads=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.axpby"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.axpby" title="Permalink to this definition">¶</a></dt>
<dd><p>performs axpby element-wise on the BlockDataContainer containers</p>
<p>Does the operation .. math:: a*x+b*y and stores the result in out, where x is self</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – scalar</p></li>
<li><p><strong>b</strong> – scalar</p></li>
<li><p><strong>y</strong> – compatible (Block)DataContainer</p></li>
<li><p><strong>out</strong> – (Block)DataContainer to store the result</p></li>
<li><p><strong>dtype</strong> – optional, data type of the DataContainers</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.binary_operations">
<code class="sig-name descname">binary_operations</code><span class="sig-paren">(</span><em class="sig-param">operation</em>, <em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.binary_operations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.binary_operations" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: generic method of algebric operation with BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<p>Provides commutativity with DataContainer and subclasses, i.e. this 
class’s reverse algebric methods take precedence w.r.t. direct algebric
methods of DataContainer and subclasses.</p>
<p>This method is not to be used directly</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of clone</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.divide">
<code class="sig-name descname">divide</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.divide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.divide" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: divide method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.is_compatible">
<code class="sig-name descname">is_compatible</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.is_compatible"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.is_compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>basic check if the size of the 2 objects fit</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.maximum">
<code class="sig-name descname">maximum</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.maximum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: power method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.minimum">
<code class="sig-name descname">minimum</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.minimum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.minimum" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: power method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.multiply">
<code class="sig-name descname">multiply</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.multiply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.multiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: multiply method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.next">
<code class="sig-name descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.next" title="Permalink to this definition">¶</a></dt>
<dd><p>python2 backwards compatibility</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.power">
<code class="sig-name descname">power</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: power method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.subtract">
<code class="sig-name descname">subtract</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.subtract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.subtract" title="Permalink to this definition">¶</a></dt>
<dd><p>Algebra: subtract method of BlockDataContainer with number/DataContainer or BlockDataContainer</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>other (number, DataContainer or subclasses or BlockDataContainer</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>out (optional): provides a placehold for the resul.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockDataContainer.unary_operations">
<code class="sig-name descname">unary_operations</code><span class="sig-paren">(</span><em class="sig-param">operation</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockDataContainer.html#BlockDataContainer.unary_operations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockDataContainer.unary_operations" title="Permalink to this definition">¶</a></dt>
<dd><p>Unary operation on BlockDataContainer:</p>
<p>generic method of unary operation with BlockDataContainer: abs, sign, sqrt and conjugate</p>
<p>This method is not to be used directly</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cil.framework.BlockGeometry">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">BlockGeometry</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockGeometry.html#BlockGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockGeometry" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="cil.framework.BlockGeometry.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.framework.BlockGeometry.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockGeometry.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">value=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockGeometry.html#BlockGeometry.allocate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockGeometry.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates a BlockDataContainer according to geometries contained in the BlockGeometry</p>
</dd></dl>

<dl class="method">
<dt id="cil.framework.BlockGeometry.get_item">
<code class="sig-name descname">get_item</code><span class="sig-paren">(</span><em class="sig-param">index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/BlockGeometry.html#BlockGeometry.get_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.BlockGeometry.get_item" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the Geometry in the BlockGeometry located at position index</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dataprocessor">
<h2>DataProcessor<a class="headerlink" href="#dataprocessor" title="Permalink to this headline">¶</a></h2>
<p>A <code class="code docutils literal notranslate"><span class="pre">DataProcessor</span></code> takes as an input a <code class="code docutils literal notranslate"><span class="pre">DataContainer</span></code> or subclass and returns either
another <code class="code docutils literal notranslate"><span class="pre">DataContainer</span></code> or some number. The aim of this class is to simplify the writing of
processing pipelines.</p>
<dl class="class">
<dt id="cil.framework.DataProcessor">
<em class="property">class </em><code class="sig-prename descclassname">cil.framework.</code><code class="sig-name descname">DataProcessor</code><span class="sig-paren">(</span><em class="sig-param">**attributes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/framework/framework.html#DataProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.framework.DataProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically an alias of Processor Class</p>
</dd></dl>

<div class="section" id="calculation-of-center-of-rotation">
<h3>Calculation of Center of Rotation<a class="headerlink" href="#calculation-of-center-of-rotation" title="Permalink to this headline">¶</a></h3>
<p>In the ideal alignment of a CT instrument, orthogonal projection of an axis of rotation onto a
detector has to coincide with a vertical midline of the detector. This is barely feasible in practice
due to misalignment and/or kinematic errors in positioning of CT instrument components.
A slight offset of the center of rotation with respect to the theoretical position will contribute
to the loss of resolution; in more severe cases, it will cause severe artifacts in the reconstructed
volume (double-borders). <code class="code docutils literal notranslate"><span class="pre">CentreOfRotationCorrector</span></code> allows to estimate offset of center of rotation
from theoretical. In the current release <code class="code docutils literal notranslate"><span class="pre">CentreOfRotationCorrector</span></code> supports both parallel
and cone-beam geometry with 2 different algorithms:</p>
<ul class="simple">
<li><p>Cross correlation, suitable for single slice parallel-beam geometry. It requires two projections 180 degree apart.</p></li>
<li><p>Image sharpness method, which consists in maximising the sharpness of a reconstructed slice. It can be used on single</p></li>
</ul>
<p>slice parallel-beam, and centre slice cone beam geometry. For use only with datasets that can be reconstructed with FBP.</p>
<dl class="class">
<dt id="cil.processors.CentreOfRotationCorrector">
<em class="property">class </em><code class="sig-prename descclassname">cil.processors.</code><code class="sig-name descname">CentreOfRotationCorrector</code><a class="reference internal" href="_modules/cil/processors/CentreOfRotationCorrector.html#CentreOfRotationCorrector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.processors.CentreOfRotationCorrector" title="Permalink to this definition">¶</a></dt>
<dd><p>This class contains factory methods to create a CentreOfRotationCorrector object using the desired algorithm.</p>
<dl class="attribute">
<dt id="cil.processors.CentreOfRotationCorrector.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#cil.processors.CentreOfRotationCorrector.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="cil.processors.CentreOfRotationCorrector.image_sharpness">
<em class="property">static </em><code class="sig-name descname">image_sharpness</code><span class="sig-paren">(</span><em class="sig-param">slice_index='centre'</em>, <em class="sig-param">FBP=None</em>, <em class="sig-param">tolerance=0.005</em>, <em class="sig-param">search_range=None</em>, <em class="sig-param">initial_binning=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/processors/CentreOfRotationCorrector.html#CentreOfRotationCorrector.image_sharpness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.processors.CentreOfRotationCorrector.image_sharpness" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates a CentreOfRotationCorrector processor which will find the centre by maximising the sharpness of a reconstructed slice.</p>
<p>Can be used on single slice parallel-beam, and centre slice cone beam geometry. For use only with datasets that can be reconstructed with FBP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slice_index</strong> (<em>int</em><em>, </em><em>str='centre'</em><em>, </em><em>optional</em>) – An integer defining the vertical slice to run the algorithm on.</p></li>
<li><p><strong>FBP</strong> (<em>class</em>) – A CIL FBP class imported from cil.plugins.tigre or cil.plugins.astra</p></li>
<li><p><strong>tolerance</strong> (<em>float</em><em>, </em><em>default = 0.001</em>) – The tolerance of the fit in pixels, the default is 1/200 of a pixel. Note this is a stopping critera, not a statement of accuracy of the algorithm.</p></li>
<li><p><strong>search_range</strong> (<em>int</em>) – The range in pixels to search either side of the panel centre. If <cite>None</cite> the width of the panel/4 is used.</p></li>
<li><p><strong>initial_binning</strong> (<em>int</em>) – The size of the bins for the initial grid. If <cite>None</cite> will bin the image to a step corresponding to &lt;128 pixels. Note the fine search will be on unbinned data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns an AcquisitionData object with an updated AcquisitionGeometry</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>AcquisitionDataS</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cil.processors.CentreOfRotationCorrector.xcorr">
<em class="property">static </em><code class="sig-name descname">xcorr</code><span class="sig-paren">(</span><em class="sig-param">slice_index='centre'</em>, <em class="sig-param">projection_index=0</em>, <em class="sig-param">ang_tol=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/processors/CentreOfRotationCorrector.html#CentreOfRotationCorrector.xcorr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.processors.CentreOfRotationCorrector.xcorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias of xcorrelation. This method has been deprecated. Please use xcorrelation</p>
</dd></dl>

<dl class="method">
<dt id="cil.processors.CentreOfRotationCorrector.xcorrelation">
<em class="property">static </em><code class="sig-name descname">xcorrelation</code><span class="sig-paren">(</span><em class="sig-param">slice_index='centre'</em>, <em class="sig-param">projection_index=0</em>, <em class="sig-param">ang_tol=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cil/processors/CentreOfRotationCorrector.html#CentreOfRotationCorrector.xcorrelation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cil.processors.CentreOfRotationCorrector.xcorrelation" title="Permalink to this definition">¶</a></dt>
<dd><p>This creates a CentreOfRotationCorrector processor using the cross-correlation algorithm.</p>
<p>For use on parallel-beam geometry it requires two projections 180 degree apart.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slice_index</strong> (<em>int</em><em>, </em><em>str='centre'</em><em>, </em><em>optional</em>) – An integer defining the vertical slice to run the algorithm on.</p></li>
<li><p><strong>projection_index</strong> (<em>int</em><em>, </em><em>optional</em>) – An integer defining the first projection the algorithm will use. The second projection at 180 degrees will be located automatically.</p></li>
<li><p><strong>ang_tol</strong> (<em>float</em><em>, </em><em>optional</em>) – The angular tolerance in degrees between the two input projections 180degree gap</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns an AcquisitionData object with an updated AcquisitionGeometry</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cil.framework.AcquisitionData" title="cil.framework.AcquisitionData">AcquisitionData</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><a class="reference internal" href="index.html#mastertoc"><span class="std std-ref">Return Home</span></a></p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to CIL’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="io.html" class="btn btn-neutral float-right" title="Read/ write AcquisitionData and ImageData" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021 UKRI-STFC, University of Manchester.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>